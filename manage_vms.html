---
layout: base
---
<!--  TODO: MOVE THIS TO `manage_vms.css` and include this file in the header -->

<style>
    @media (max-width: 768px){
        .form-horizontal .span2 {
            width: 140px;
            display: inline;
        }
    }
    @media (max-width: 260px){
        .form-horizontal .span2 {
            width: 140px;
            display: inline;
            margin-bottom: 4px;
        }
    }
</style>
<ul class="breadcrumb">
    <li><a href="index.html">Home</a> <span class="divider">/</span></li>
    <li>Virtual Machines <span class="divider">/</span></li>
    <li class="active">Manage</li>
    <li class="pull-right"><a class="btn btn-mini btn-success nobr" href="spawn_vm.html"><i class="icon-plus-sign icon-white"></i>&nbsp;Spawn New VM</a></li>
</ul>
<div class="searchable-table-container" ng-controller="SearchableTableController"
     ng-init="
     shown_columns = [
        {key: 'name', title: 'Name', type: 'text', placeholder: 'Enter Name', help: 'Help!'},
        {key: 'id', title: 'Id', type: 'text', placeholder: 'Enter Id', help: ''},
        {key: 'cost', title: 'Cost Per Day', type: 'intrange', type_options: {min: 0, max: 500, amount_template: '$%min%-$%max%'}, placeholder: 'Enter Cost', help: ''},
        {key: 'vlan', title: 'VLAN', type: 'select', type_options: {options: [{k: '2501', v: '2501'}, {k: '1102', v: '1102'}]}, placeholder: 'Enter VLAN', help: ''},
        {key: 'ip', title: 'IP', type: 'ip', placeholder: 'Enter IP', help: ''},
        {key: 'created', title: 'Created', type: 'daterange', placeholder: 'Enter DateRange', help: ''},
        {key: 'project', title: 'Project', type: 'select', type_options: {options: [{k: 'OSCORE', v: 'OSCORE'}, {k: 'IT', v: 'IT'}]}, placeholder: 'Enter Project', help: ''},
        {key: 'user', title: 'User', type: 'text', placeholder: 'Enter User', help: ''},
        {key: 'image', title: 'Image', type: 'text', placeholder: 'Enter Image', help: ''},
        {key: 'flavor', title: 'Type', type: 'select', type_options: {options: [{k: 'm1.small', v: 'm1.small'}, {k: 'm1.tiny', v: 'm1.tiny'}]}, placeholder: 'Enter Type', help: ''}
        ];
     hidden_columns = [];
     saved_searches = [
        {name: 'test', query: 'name:test'},
        {name: 'complex', query: 'name:complex really complex search'}
        ];
     mockup_data = {
        name: ['vm_details.html', 'test1'],
        id: ['47d4ae6e-cbe1-444e-877d-c4dc9cb696c4'],
        cost: ['$6.4'],
        vlan: ['321'],
        ip: ['192.168.100.3'],
        created: ['09/06/2012 08:32:23'],
        project: ['qwert'],
        user: ['user_details.html', 'openstack-core@griddynamics.com'],
        image: ['image_details.html', 'sdf'],
        flavor: ['flavor_details.html', 'm1.tiny']
     };
     empty_message = 'Use search to find virtual machines you are interested in.';
     checked_all = false

     ">
    {% include control_bar.html %}
    {% literal %}

    <div class="alert alert-info" ng-show="mockup_rows==undefined">{{ empty_message }}</div>
    <div class="alert alert-warning" ng-show="all_checked_checkbox">
        <div ng-show="!all_selected">
            {{ selectedNumber }} selected on this page. To select all 100500 on all pages <a ng-click="all_selected=true">click here</a>
        </div>
        <div ng-show="all_selected">
            {{ 100500 + selectedNumber }} selected on all pages. To restrict selection to this pag only <a ng-click="all_selected=false">click here</a>
        </div>
    </div>
    <div  ng-hide="mockup_rows == undefined">
        <table class="table table-striped table-bordered table-condensed">
            <thead>
            <tr>
                <th><input type="checkbox" ng-model="all_checked_checkbox" ng-change="checkedAll()"></th>
                <th ng-repeat="x in shown_columns">{{ x.title }}</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="i in mockup_rows" ng-controller="CheckOneController">
                <td><input type="checkbox" ng-model="checked_all" ng-change="changeObserved()"></td>
                <td ng-repeat="x in shown_columns" ng-bind-html-unsafe="mockup_data[x.key] | maybe_link"></td>
            </tr>
            </tbody>
        </table>
        {% endliteral %}
        {% include pagination.html %}
    </div>
</div>
{% include back_button.html %}
<!-- TODO: REMOVE ON PRODUCTION -->
<script>
    $('.form-search').attr('action', 'manage_vms.html');
</script>
